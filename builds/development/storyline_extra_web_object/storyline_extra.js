function initExtra(e){"use strict";function a(e){return e.hasOwnProperty("cp")}function t(e){e.log=function(a){e.debugging?e.debugging.log(a):e.console&&e.console.log(a)},e.error=function(a){e.debugging?e.debugging.error.apply(this,arguments):e.console&&e.w.alert(a)}}function r(e){c.aborted=!0,c.registerModule=function(){},c.w&&("object"==typeof c.w[e]?c.log("Aborted initializing Extra for a second time, as we have detected the window."+e+" property has already been defined."):c.error("CpExtra could not start because it encountered a User Variable named <b>"+e+"</b> in the project. CpExtra has reserved this User Variable name. <br/>Please delete the <b>"+e+"</b> User Variable."))}function n(e){s()?o(e):f.push(e)}function i(){for(var e=0;e<f.length;e+=1)o(f[e]);f=[]}function s(){return!d||c.w.cp.movie}function o(e){var a,t,r=b[e];r.onLoadCallback=l(r.moduleConstructor),r.instantiated=!0;for(var n in r.subordinates)if(r.subordinates.hasOwnProperty(n)){if(a=b[n],a.instantiated)continue;t=!0;for(var i=0;i<a.dependencies.length;i+=1)if(!b[a.dependencies[i]].instantiated){t=!1;break}t&&o(n)}}function l(e){return c.w.unitTests?e():c.w.eval("("+e.toString()+"())")}function u(){var e;for(var a in b)if(b.hasOwnProperty(a)&&(e=b[a],e.onLoadCallback))try{l(e.onLoadCallback)}catch(t){c.error("Encountered error at module: "+a+"<br/>Details: <br/>"+t)}}var c={},d=!1;if(e||(e=window),!window._extra||!window.unitTests){if(t(c),a(e))d=!0;else if(e._extra=c,e=e.parent,!a(e))return void r("X");if(c.w=e,c.console=c.w.console,c.CAPTIVATE="captivate",c.STORYLINE="storyline",void 0!==c.w.X)return void r("X");if(void 0!==c.w._extra)return void r("_extra");c.aborted=!1,c.w._extra=c,c.classes={},c.registerClass=function(e,a,t){var r=function(){};if((t===c.STORYLINE||t===c.CAPTIVATE)&&(t=null),t){if("string"==typeof t){if(!c.classes[t])throw new Error("Could not find a class by the name of '"+t+"' to be used as a super class.");t=c.classes[t]}r.prototype=t.prototype,a.prototype=new r,a.prototype.constructor=a,a.baseConstructor=t,a.superClass=t.prototype}c.classes[e]=a};var b={},f=[];c.registerModule=function(e,a,t){function r(e){return b[e]={subordinates:{},instantiated:!1},b[e]}function i(e,a){b[e].subordinates[a]=b[a],u=!1}var s,o,l,u=!0;if("function"==typeof a?(t=a,a=[]):"string"==typeof a&&(a=[a]),b[e]){if(void 0!==b[e].dependencies)throw Error("Tried to register two modules under the name: "+e)}else r(e);s=b[e],s.dependencies=a,s.moduleConstructor=t;for(var c=0;c<s.dependencies.length;c+=1){if(o=s.dependencies[c],l=b[o],o===e)throw new Error("Can't set up a module as a dependency of itself");l?l.instantiated||i(o,e):(l=r(o),i(o,e))}u&&n(e)},c.$=c.w.$,c.isIE=!!document.documentMode,c.X={version:"1.4",build:"9483"};var g=function(){window.removeEventListener("load",g),window.hasOwnProperty("_extra")&&c.w.story&&u()};if(window.addEventListener("load",g),window.CaptivateExtraWidgetInit=function(){c.w.cp&&(window.removeEventListener("load",g),u())},!s()){var v=c.w.cp.complete;c.w.cp.complete=function(){s()&&(window.removeEventListener("load",g),i(),u(),c.w.cp.complete=v),v()}}}}initExtra(),_extra.registerModule("Callback",function(){"use strict";_extra.registerClass("Callback",function(){this.data={},this.addCallback=function(e,a,t){this.data[e]||(this.data[e]={overwritable:null,regular:[]}),t?this.data[e].overwritable=a:this.data[e].regular.push(a)},this.hasCallbackFor=function(e){return void 0!==this.data[e]},this.sendToCallback=function(e,a){var t,r,n=this.data[e];if(n){n.overwritable&&n.overwritable(a);for(var i=n.regular,s=0;s<i.length;s+=1)r=i[s](a),void 0!==r&&(t=r)}return t},this.forEach=function(e){var a;for(var t in this.data)if(this.data.hasOwnProperty(t)){this.data[t].overwritable&&e(t,this.data[t].overwritable),a=this.data[t].regular;for(var r=0;r<a.length;r+=1)e(t,a[r])}},this.removeCallback=function(e,a){var t=this.data[e];if(t){if(t.overwritable&&t.overwritable===a)return void delete t.overwritable;for(var r,n=t.regular,i=0;i<n.length;i+=1)if(r=n[i],a===r){n.splice(i,1),n.length<=0&&delete this.data[e];break}}},this.clear=function(){this.data={}}})}),_extra.registerModule("CustomEvent",function(){"use strict";function e(e,a){a=a||{bubbles:!1,cancelable:!1,detail:void 0};var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,a.bubbles,a.cancelable,a.detail),t}e.prototype=Event.prototype,_extra.registerClass("CustomEvent",e),_extra.createEvent=function(e){return _extra.isIE?new _extra.classes.CustomEvent(e):new _extra.w.Event(e)}}),_extra.registerModule("DoubleClickHandler",function(){"use strict";function e(){function e(e){n&&(_extra.preferences.doubleClickDelay<=0||!i?n(e):(o+=1,r||(r=_extra.w.setTimeout(function(){o>=2?i(e):n(e),o=0,r=null},_extra.preferences.doubleClickDelay))))}function a(e){i&&(r&&(_extra.w.clearTimeout(r),r=null,o=0),i(e))}function t(e){s(e),e.preventDefault()}var r,n,i,s,o=0;this.addEventHandler=function(r,o){switch(r){case _extra.eventManager.events.CLICK:return n=o,e;case _extra.eventManager.events.DOUBLE_CLICK:return i=o,a;case _extra.eventManager.events.RIGHT_CLICK:return s=o,t}return o},this.removeEventHandler=function(e){e===_extra.eventManager.events.CLICK?n=null:e===_extra.eventManager.events.DOUBLE_CLICK&&(i=null)}}_extra.registerClass("DoubleClickHandler",e)}),_extra.registerModule("EventDispatcher",function(){"use strict";function e(){var e={};this.addEventListener=function(a,t){"function"==typeof t?(e[a]||(e[a]=[]),e[a].push(t)):_extra.error("Tried to pass something into addEventListener as a handler which was not a function butrather of '"+typeof t+"' type.")},this.removeEventListener=function(a,t){var r=e[a];if(r)for(var n=0;n<r.length;n+=1)if(r[n]===t)return r.splice(n,1),!0;return!1},this.hasEventListener=function(a,t){var r=e[a];if(t&&r){for(var n=0;n<r.length;n+=1)if(r[n]===t)return!0;return!1}return e.hasOwnProperty(a)},this.dispatchEvent=function(a){var t=e[a.type];if(t)for(var r=0;r<t.length;r+=1)t[r](a)}}_extra.registerClass("EventDispatcher",e)}),_extra.registerModule("EventMediator",function(){"use strict";function e(){function e(){l&&c.length<=0&&_extra.w.Object.keys(u).length<=0&&l()}function a(e,a,t){var r,n=u[e];if(!n)return!1;for(var i=0;i<n.length;i+=1)if(r=n[i],r.isInteractiveObjectCallback){if(r.interactiveObject===a&&r.criteria===t)return{index:i,data:r}}else if(r.callback===a)return{index:i,data:r};return!1}function t(e,t,r){var i;if(!u[e]){var s,o=[];u[e]=o,s=function(e){for(var a,t=o.length-1;t>=0;t-=1)a=o[t],a.called||(b.id&&_extra.eventManager.setEventTarget(b.id),a.callback(e),a.called=!0);for(t=o.length-1;t>=0;t-=1)delete o[t].called},s=f.addEventHandler(e,s),d[e]=s,n(c,e,s)}return a(e,t,r)?!1:(i=r?{isInteractiveObjectCallback:!0,interactiveObject:t,criteria:r,callback:function(){_extra.actionManager.callActionOn(t,r)}}:{isInteractiveObjectCallback:!1,callback:t},u[e].unshift(i),i)}function r(t,r,n){var s=a(t,r,n);if(s){var o=u[t];return o.splice(s.index,1),o.length<=0&&(delete u[t],i(c,t,d[t]),f.removeEventHandler(t),delete d[t],e()),s.data}return!1}function n(e,a,t){for(var r=0;r<e.length;r+=1)e[r].addEventListener(a,t)}function i(e,a,t){for(var r=0;r<e.length;r+=1)e[r].removeEventListener(a,t)}function s(a,t){var r,s=Array.prototype.slice.call(a);1!==s.length||null!==s[0]&&void 0!==s[0]||(s=[]);for(var o in d)d.hasOwnProperty(o)&&(r=d[o],t&&i(c,o,r),n(s,o,r));t?(c=s,e()):c=c.concat(s)}function o(e){switch(e){case"doubleclick":return _extra.eventManager.events.DOUBLE_CLICK;case"rollover":return _extra.eventManager.events.MOUSE_OVER;case"rollout":return _extra.eventManager.events.MOUSE_OUT;default:return e}}var l,u={},c=Array.prototype.slice.call(arguments),d={},b=this,f=new _extra.classes.DoubleClickHandler;this.setId=function(e){this._id=e},this.addEventListener=function(e,a,r){e=o(e),t(e,a,r)},this.removeEventListener=function(e,a,t){e=o(e),r(e,a,t)},this.hasEventListener=function(e,t,r){return a(e,t,r)!==!1},this.dispatchEvent=function(e){var a;"string"==typeof e?a=_extra.createEvent(e):void 0!==e.type&&(a=e,e=a.type),d[e]&&d[e](a)},this.swap=function(){s(arguments,!0)},this.add=function(){s(arguments,!1)},this.registerOnEmptyCallback=function(e){l=e}}e.prototype={get id(){return this._id}},_extra.registerClass("EventMediator",e)}),_extra.registerModule("InterruptedClickEventHandler",function(){"use strict";function e(e,a){function t(){_extra.eventManager.useTouchEvents&&(e.addEventListener(_extra.eventManager.events.MOUSE_DOWN,r),e.addEventListener(_extra.eventManager.events.MOUSE_UP,n),_extra.w.document.addEventListener(_extra.eventManager.events.MOUSE_UP,i))}function r(){l=!0}function n(e){if(l)switch(e.button){case void 0:case 0:s()}l=!1}function i(){l=!1}function s(){var a=new _extra.w.Date;e.dispatchEvent(_extra.eventManager.events.CLICK),null!==u&&o(a)?(e.dispatchEvent(_extra.eventManager.events.DOUBLE_CLICK),u=null):u=a}function o(e){return e.getTime()-u.getTime()<=_extra.preferences.doubleClickDelay}var l=!1,u=null;this.unload=function(){_extra.eventManager.useTouchEvents&&(e.removeEventListener(_extra.eventManager.events.MOUSE_DOWN,r),e.removeEventListener(_extra.eventManager.events.MOUSE_UP,n),_extra.w.document.removeEventListener(_extra.eventManager.events.MOUSE_UP,i))},t()}_extra.registerClass("InterruptedClickEventHandler",e)}),_extra.registerModule("Model",function(){"use strict";function e(){function e(e,a,r,n){var i={slideObjectName:e,property:a,previousValue:r,currentValue:n};t.sendToCallback("*",i),t.sendToCallback(e,i)}var a={},t=new _extra.classes.Callback;this.updateCallback=t,this.write=function(t,r,n){var i,s;a[t]||(a[t]={}),i=a[t],s=i[r],s!==n&&(i[r]=n,e(t,r,s,n))},this.retrieve=function(e,t){return t&&a[e]?a[e][t]:a[e]},this.hasDataFor=function(e){return a.hasOwnProperty(e)},this.refresh=function(t){var r,n;for(var i in a)a.hasOwnProperty(i)&&(r=a[i],r.hasOwnProperty(t)&&(n=r[t],e(i,t,n,n)))},this.update=function(t){var r,n=a[t];if(n)for(var i in n)n.hasOwnProperty(i)&&(r=n[i],e(t,i,r,r))}}_extra.registerClass("Model",e)}),_extra.registerModule("ModelListener",function(){"use strict";function e(e,a){function t(e){r[e.property]&&r[e.property].onChangeCallback(e.previousValue,e.currentValue)}var r={};this.model=a,this.addProperty=function(t,n,i){var s=a.retrieve(e,t);r[t]={onChangeCallback:n,defaultValue:i},void 0===s&&i&&(a.write(e,t,i),s=i),void 0!==s&&n(null,s)},this.unload=function(){r=null,a.updateCallback.removeCallback(e,t),a=null,this.model=null},a.updateCallback.addCallback(e,t)}_extra.registerClass("ModelListener",e)}),_extra.registerModule("MouseEventByPasser",function(){"use strict";function e(e){}_extra.registerClass("MouseEventByPasser",e)}),_extra.registerModule("SlideObjectEnterExitEventManager",function(){"use strict";function e(e){function a(){r||(e.dispatchEvent(_extra.eventManager.events.ENTER),r=!0)}function t(){r&&(e.dispatchEvent(_extra.eventManager.events.EXIT),r=!1)}var r=!1;this.setCurrentDispatcher=function(e){this.dispatcher!==e&&(this.dispatcher&&(this.dispatcher.removeEventListener("internalinitialization",a),this.dispatcher.removeEventListener("internalunload",t)),this.dispatcher=e,this.dispatcher&&(r=this.dispatcher.isInitialized,this.dispatcher.addEventListener("internalinitialization",a),this.dispatcher.addEventListener("internalunload",t)))}}_extra.registerClass("SlideObjectEnterExitEventManager",e)}),_extra.registerModule("SlideObjectStateManager",function(){"use strict";function e(e,a){function t(e){var t,r;for(var n in a)if(a.hasOwnProperty(n)){t=a[n];for(r in t)if(t.hasOwnProperty(r)&&r===e)return!0}return!1}function r(e){if("boolean"==typeof e||_extra.w.isNaN(e)){if("string"==typeof e){var a=e.toLowerCase();"true"===a?e=!0:"false"===a&&(e=!1)}}else e=""===e?!1:_extra.w.parseFloat(e);return e}function n(e,a){if(null===a&&(a=!0),e=r(e),"object"!=typeof a)return e==a;var t=a;switch(a=t.value,t.modifier){case"!":return e!=a;case">":return e>a;case"<":return a>e;case">=":return e>=a;case"<=":return a>=e}}function i(a,t){if(a){var r,i,s;for(var o in t)if(t.hasOwnProperty(o)){r=t[o],s=!0;for(i in r)if(r.hasOwnProperty(i)&&!n(_extra.variableManager.getVariableValue(i),r[i])){s=!1;break}if(s)return e.changeState(o),!0}}return!1}function s(){i(u,a.d)||i(l,a.r)||i(!0,a.n)||e.changeState(c)}var o=this,l=!1,u=!1,c=e.state;this.slideObject=e,this.data=a,this.mainDIV=_extra.captivate.projectContainer,this.onRollover=function(){e.removeEventListener(_extra.eventManager.events.MOUSE_OVER,o.onRollover),l=!0,s(),e.addEventListener(_extra.eventManager.events.MOUSE_OUT,o.onRollout),o.mainDIV.addEventListener(_extra.eventManager.events.MOUSE_OUT,o.onRollout)},this.onRollout=function(){o.mainDIV.removeEventListener(_extra.eventManager.events.MOUSE_OUT,o.onRollout),e.removeEventListener(_extra.eventManager.events.MOUSE_OUT,o.onRollout),l=!1,s(),e.addEventListener(_extra.eventManager.events.MOUSE_OVER,o.onRollover)},this.onMouseDown=function(){e.removeEventListener(_extra.eventManager.events.MOUSE_DOWN,o.onMouseDown),u=!0,s(),_extra.w.document.addEventListener(_extra.eventManager.events.MOUSE_UP,o.onMouseUp)},this.onMouseUp=function(){_extra.w.document.removeEventListener(_extra.eventManager.events.MOUSE_UP,o.onMouseUp),u=!1,s(),e.addEventListener(_extra.eventManager.events.MOUSE_DOWN,o.onMouseDown)},a.r&&e.addEventListener(_extra.eventManager.events.MOUSE_OVER,this.onRollover),a.d&&e.addEventListener(_extra.eventManager.events.MOUSE_DOWN,this.onMouseDown),this.onStateChangeCallback=function(e){t(e.stateName)||(c=e.stateName)},_extra.slideObjects.states.changeCallback.addCallback(e.name,this.onStateChangeCallback);var d,b,f,g,v,x={};for(d in a)if(a.hasOwnProperty(d)){b=a[d];for(f in b)if(b.hasOwnProperty(f)){g=b[f];for(v in g)g.hasOwnProperty(v)&&(x[v]||(_extra.variableManager.listenForVariableChange(v,s),x[v]=!0))}}s()}e.prototype.unload=function(){this.slideObject.removeEventListener(_extra.eventManager.events.MOUSE_OVER,this.onRollover),this.slideObject.removeEventListener(_extra.eventManager.events.MOUSE_OUT,this.onRollout),this.slideObject.removeEventListener(_extra.eventManager.events.MOUSE_DOWN,this.onMouseDown),_extra.w.document.removeEventListener(_extra.eventManager.events.MOUSE_UP,this.onMouseUp),this.mainDIV.removeEventListener(_extra.eventManager.events.MOUSE_OUT,this.onRollout),_extra.slideObjects.states.changeCallback.removeCallback(this.slideObject.name,this.onStateChangeCallback),this.slideObject=null,this.data=null,this.mainDIV=null},_extra.registerClass("SlideObjectStateManager",e)}),_extra.registerModule("VariableEventManager",["VariableEventProxy"],function(){"use strict";function e(e,a){this._data={},this._softwareAddListener=e,this._softwareRemoveListener=a}_extra.registerClass("VariableEventManager",e),e.prototype.getListenerData=function(e,a,t){var r,n;if(this._data.hasOwnProperty(e)){r=this._data[e];for(var i=0;i<r.length;i+=1)if(n=r[i],n.rawFunction===a)return t&&r.splice(i,1),n}return null},e.prototype.hasListener=function(e,a){return null!==this.getListenerData(e,a)},e.prototype.addListener=function(e,a){if(this._data.hasOwnProperty(e)){if(this.hasListener(e,a))return}else this._data[e]=[];var t={rawFunction:a,wrappedFunction:function(){t.rawFunction(new _extra.classes.VariableEventProxy(arguments))}};this._data[e].push(t),this._softwareAddListener(e,t.wrappedFunction)},e.prototype.removeListener=function(e,a){var t=this.getListenerData(e,a,!0);t&&this._softwareRemoveListener(e,t.wrappedFunction)}}),_extra.registerModule("createSlideObjectData",["factoryManager"],function(){"use strict";_extra.factories.createSlideObjectData=function(e,a,t){switch(t){case _extra.dataTypes.slideObjects.TEXT_ENTRY_BOX:return new _extra.classes.TextEntryBoxDataProxy(e,a,t);case _extra.dataTypes.slideObjects.SHAPE:return new _extra.classes.ShapeDataProxy(e,a,t);default:return new _extra.classes.BaseSlideObjectDataProxy(e,a,t)}}}),_extra.registerModule("createSlideObjectProxy",["factoryManager"],function(){"use strict";_extra.factories.createSlideObjectProxy=function(e,a){var t=_extra.dataManager.getSlideObjectDataByName(e);switch(t.type){case _extra.dataTypes.slideObjects.TEXT_ENTRY_BOX:return new _extra.classes.TextEntryBoxProxy(a,t);case _extra.dataTypes.slideObjects.VIDEO:return new _extra.classes.VideoProxy(a,t);default:return new _extra.classes.BaseSlideObjectProxy(a,t)}}}),_extra.registerModule("createStateDataProxy",["factoryManager"],function(){"use strict";_extra.factories.createStateDataProxy=function(e,a){switch(e){case _extra.dataTypes.slideObjects.TEXT_ENTRY_BOX:return new _extra.classes.TextEntryBoxStateDataProxy(a);case _extra.dataTypes.slideObjects.BUTTON:return new _extra.classes.ButtonStateDataProxy(a);case _extra.dataTypes.slideObjects.VIDEO:return new _extra.classes.VideoStateDataProxy(a);case _extra.dataTypes.slideObjects.WIDGET:return new _extra.classes.WidgetStateDataProxy(a);case _extra.dataTypes.slideObjects.SHAPE:return new _extra.classes.ShapeStateDataProxy(a);case _extra.dataTypes.slideObjects.WEB_OBJECT:return new _extra.classes.WebObjectStateDataProxy(a);default:return new _extra.classes.StateDataProxy(a)}}}),_extra.registerModule("factoryManager",function(){"use strict";_extra.factories={}}),_extra.registerModule("cssManager",function(){"use strict";_extra.$("<style type='text/css'> .extra-mouse-disabled{ pointer-events: none; };</style>").appendTo("head"),_extra.$("<style type='text/css'> .extra-hand-cursor{ cursor:pointer;  };</style>").appendTo("head"),_extra.cssManager={addClassTo:function(e,a){_extra.$(e).addClass(a)},removeClassFrom:function(e,a){_extra.$(e).removeClass(a)},editCSSOn:function(e,a,t){_extra.$(e).css(a,t)}}}),_extra.registerModule("focusManager",[],function(){"use strict";_extra.focusManager={getSlideObjectFocusDivName:function(e){var a=_extra.dataManager.getSlideObjectDataByName(e);switch(a.type){case _extra.dataTypes.slideObjects.TEXT_ENTRY_BOX:return a.inputDivName}return e},unlockFocusFrom:function(e){_extra.slideObjects.model.write(e,"lockFocus",!1)},lockFocusTo:function(e){_extra.slideObjects.model.write(e,"lockFocus",!0)}}}),_extra.registerModule("hookManager",["slideManager_global"],function(){"use strict";function e(e,a,t){var n={location:e,methodName:a,hookMethod:t,originalMethod:e[a]};return n.location[n.methodName]=function(){var e,a=arguments;if(n.callHookBeforeOriginal){if(e=n.hookMethod.apply(this,arguments),"[object Arguments]"===_extra.w.Object.prototype.toString.call(e))a=e;else if(void 0!==e)return e;return n.originalMethod.apply(this,a)}return e=n.originalMethod.apply(this,a),n.hookMethod.apply(this,arguments),e},r.push(n),n}function a(e){var a=r[e];a&&(r.splice(e,1),a.location[a.methodName]=a.originalMethod)}function t(e,a,t){for(var n,i=0;i<r.length;i+=1)if(n=r[i],n.location===e&&n.methodName===a&&(!t||n.hookMethod===t))return i;return-1}var r=[];_extra.addHookAfter=function(a,t,r){var n=e(a,t,r);n.callHookBeforeOriginal=!1},_extra.addHookBefore=function(a,t,r){var n=e(a,t,r);n.callHookBeforeOriginal=!0},_extra.addHook=_extra.addHookAfter,_extra.hasHook=function(e,a){return t(e,a)>-1},_extra.removeHook=function(e,r,n){var i=t(e,r,n);return i>-1?(a(i),!0):!1},_extra.addOneTimeHook=function(e,a,t){var r=function(){t.apply(this,arguments),_extra.removeHook(e,a,r)};_extra.addHookAfter(e,a,r)}}),_extra.registerModule("publicAPIManager",function(){"use strict";return function(){_extra.w.X=_extra.X,_extra.X._=_extra,_extra.X.getSlideData=_extra.slideManager.getSlideData,_extra.X.gotoSlide=_extra.slideManager.gotoSlide,_extra.X.getSlideObjectByName=_extra.slideObjects.getSlideObjectByName}}),_extra.registerModule("queryManager",function(){"use strict";_extra.WILDCARD_CHARACTER="@",_extra.GLOBAL_WILDCARD_CHARACTER="#",_extra.queryList=function(e,a,t){t||(t=_extra.getQueryType(e));var r=e.indexOf(t);if(r>-1){var n=e.substr(0,r),i=e.substr(r+1,e.length-1),s=[],o=function(e){e.substr(0,n.length)===n&&e.substr(e.length-i.length,e.length-1)===i&&s.push(e)};if(a.constructor===_extra.w.Array)for(var l=0;l<a.length;l+=1)o(a[l]);else if("object"==typeof a)for(var u in a)a.hasOwnProperty(u)&&o(u);return 0===s.length&&(s=null),s}return null},_extra.isLocalQuery=function(e){return e.indexOf(_extra.WILDCARD_CHARACTER)>-1},_extra.isGlobalQuery=function(e){return e.indexOf(_extra.GLOBAL_WILDCARD_CHARACTER)>-1},_extra.isQuery=function(e){return _extra.isLocalQuery(e)||_extra.isGlobalQuery(e)},_extra.getQueryType=function(e){return _extra.isLocalQuery(e)?_extra.WILDCARD_CHARACTER:_extra.isGlobalQuery(e)?_extra.GLOBAL_WILDCARD_CHARACTER:!1}}),_extra.registerModule("URLManager",["softwareInterfacesManager","hookManager"],function(){"use strict";function e(e){_extra.addHookBefore(e.openURLLocation,e.openURLMethodName,function(e){return arguments[0]=_extra.variableManager.replaceVariablesInString(e),arguments})}e(_extra.captivate||_extra.storyline)}),_extra.registerModule("AlertProxy",[],function(){"use strict";function e(e){this._data=e}e.prototype.getFirstButtonAction=function(){return this._data.m_firstButtonHandler},e.prototype.setFirstButtonAction=function(e){this._data.registerFirstButtonHandler(e)},e.prototype.show=function(){this._data.show()},_extra.registerClass("AlertProxy",e)},_extra.CAPTIVATE),_extra.registerModule("SlideDataProxy",function(){"use strict";function e(e){this.name=e.title}e.prototype={get slideObjects(){return this._slideObjects||(this._slideObjects=[]),this._slideObjects}},_extra.registerClass("SlideDataProxy",e,_extra.STORYLINE)},_extra.STORYLINE),_extra.registerModule("SlideObjectQuestionDataProxy",[],function(){"use strict";function e(e){this.data=e,this.name=e.title}e.prototype={get score(){return this.data.getScore()},set score(e){this.data.setScore(e)},get maxScore(){return this.data.weighting}},_extra.registerClass("SlideObjectQuestionDataProxy",e,_extra.CAPTIVATE)},_extra.CAPTIVATE),_extra.registerModule("VariableEventProxy",function(){"use strict";function e(e){this._data=e}e.prototype={get variableName(){return this._data[1]}},_extra.registerClass("VariableEventProxy",e,_extra.STORYLINE)},_extra.STORYLINE),_extra.registerModule("generalDataManager",["softwareInterfacesManager"],function(){"use strict";_extra.dataManager={},_extra.dataManager.getSlideObjectDataByName=function(){_extra.error("_extra.dataManager.getSlideObjectDataByName has yet to be implemented")}},_extra.STORYLINE),_extra.registerModule("debuggingManager",function(){"use strict";_extra.debugging={log:function(e){_extra.console&&_extra.console.log(e)},error:function(e){var a;if(_extra.debugging.errors&&_extra.debugging.errors[e]){var t=Array.prototype.slice.call(arguments);t.splice(0,1),a=e,e=_extra.debugging.errors[e].apply(this,t)}_extra.preferences&&_extra.preferences.debugMode?(e="<div id='cpextra-alert-thinner' style='padding-right: 20px;'>"+e+"</div>",a?_extra.w.alert(e,"CpExtra encountered error: <b>"+a+"</b>"):_extra.w.alert(e,"CpExtra says...")):_extra.console&&_extra.console.error(e)}}}),_extra.registerModule("errors",["debuggingManager"],function(){"use strict";_extra.debugging.errors={PV001:function(e){return"This browser does not support <b>"+e+" storage variables.</b> Please upgrade to the latest version of the browser.<br/>If this is not possible, either remove storage variables from this project <b>OR</b> set the <b>xprefDebugMode</b> variable to <b>false</b> to stop this message appearing."},AS001:function(e,a,t){return"<b>"+e+"</b> has a state named <b>"+a+"</b>. <br/>However, there appears to be no matching variable named <b>"+t+"</b>. <br/>To correct this issue ensure variable and state names match."},AS002:function(e,a,t){return"<b>"+e+"</b> has a state named <b>"+a+"</b>. <br/>However, a state name cannot use a variable name (e.g. <b>"+t+"</b>) more than once. <br/>To fix this error, ensure there is only once reference to <b>"+t+"</b> in the state name."},AS003:function(e){return"At _extra.slideObjects.states.registerStateMetaData, tried to register data for <b>"+e+"</b> twice. Has unloading of this data from a previous slide been unsuccessful?"},AS004:function(e,a,t){return"<b>"+e+"</b> has a state named <b>"+a+"</b>. <br/>However, there is no value written after the keyword <b>"+t+"</b>. Therefore CpExtra does not know how to evaluate the <b>"+a+"</b> state. <br/>To correct this issue write a value after the <b>"+t+"</b> keyword."},PE001:function(e){return"Tried to access explicitly defined variable <b>$$"+e+"$$</b>.<br/>However, thre is no variable of the name <b>"+e+"</b>.<br/>To correct this issue please check that you have spelled the variable's name correctly."},CV001:function(e){return"Could not find a slide object in the movie by the name of <b>"+e+"</b>.<br/>To resolve this issue, please find the xcmnd variable that is attempting to reference this object and check you have spelt the object's name correctly."},CV002:function(e){return"Could not find a variable in the movie by the name of <b>"+e+"</b>.<br/>To resolve this issue, please find the xcmnd variable that is attempting to reference this variable and check you have spelt the variable's name correctly."},CV003:function(e){return"The string <b>"+e+"</b> does not match an expected keyword for the command variable it was assigned to.<br/>Please check the spelling of <b>"+e+"</b> and that you are assigning to the correct command variable"},CV004:function(e){return"Tried to use the @syntax query <b>"+e+"</b> on a parameter that doesn't allow @syntax queries.<br/>Please remove the @syntax query and replace it with a singular property."},CV005:function(e){return"Tried to pass use the value <b>"+e+"</b> for a property that requires a number.<br/>Please check the spelling of <b>"+e+"</b>"},CV006:function(e,a){return"Tried to write to slide object <b>"+e+"</b>'s <b>"+a+"</b> property.<br/>However, this is not a property that CpExtra allows you to set. <br/>Do not attempt to write to the <b>"+a+"</b> property"},CV007:function(e){return"Tried to interact with slide object <b>"+e+"</b>. However, this action requires an interactive object, and <b>"+e+"</b> is not an interactive object.<br/>Please check the spelling of <b>"+e+"</b>. "},CV008:function(e){return"Received number <b>"+e+"</b> where a variable name was expected. If you assign a variable name to another variable, Captivate automatically swaps out that string with the variable's value. <br/>To fix this issue, surround the variable name in square braces [].<br/>Example: <b>[MyVar]</b>."},CV010:function(e){return"Unable to call a <b>"+e+"</b> action on a slide object because <b>"+e+"</b> is not listed as a valid action. <br/>Please change <b>"+e+"</b> to <b>success, failure </b> or <b>focuslost</b>."},CV011:function(e){return"Tried to call a <b>focus lost</b> action on <b>"+e+"</b>. However this interactive object has no <b>focus lost</b> action.<br/>Please ensure <b>"+e+"</b> is a Text Entry Box."},CV012:function(e){return"Could not call action on <b>"+e+"</b> as it is not an interactive object. <br/>To resolve this issue, change <b>"+e+"</b> to be an interactive object (i.e. an object with success / failure criteria)."},CV013:function(e){return"Tried to call an action on <b>"+e+"</b> but could not find any slide objects with that name. <br/>Please ensure there is an interactive object with the name <b>"+e+"</b>."},CV020:function(e){return"Tried to use xcmndSetCursor to apply cursor named <b>"+e+"</b> to a slide object. <b>"+e+"</b> is not a valid cursor name. <br/>Please check if you have misspelt the cursor name."},CV030:function(e,a){var t;return"addEventListener"===a?t="add":"removeEventListener"===a&&(t="remove"),"Tried to "+t+" an event listener on <b>"+e+"</b> but could not find any slide objects with that name. <br/>Please ensure there is a slide object with the name <b>"+e+"</b>."},CV031:function(e,a){var t;return"addEventListener"===a?t="add":"removeEventListener"===a&&(t="remove"),"Unable to "+t+" the <b>"+e+"</b> event because <b>"+e+"</b> is not listed as a valid event. <br/>Please check the spelling of <b>"+e+"</b>."},CV040:function(e,a){return"Tried alter the <b>"+a+"</b> property on <b>"+e+"</b> but could not find any slide objects with that name. <br/>Please ensure there is a slide object with the name <b>"+e+"</b>."},CV041:function(e,a,t){return"Tried to change the <b>"+a+"</b> property on <b>"+e+"</b> to <b>"+t+"</b>, but that is not a valid value.<br/>Please check the spelling of <b>"+t+"</b>."},CV042:function(e,a,t){return"Tried to set variable <b>"+e+"</b> with value of slide object <b>"+a+"'s "+t+"</b> property. However, could not find any slide object with the object name <b>"+a+"</b>.<br/>Please check the spelling of <b>"+a+"</b>."},CV050:function(e){return"Tried to reset variable <b>"+e+"</b> to its default value, but could not find any variables by the name of <b>"+e+"</b>.<br/>Please check the spelling of <b>"+e+"</b>."},CV060:function(e){return"Tried to flush <b>"+e+"</b> from storage, but <b>"+e+"</b> is not registered as a storage variable. <br/>Storage variables should have a prefix of <b>ls_</b> or <b>ss_</b>.<br/>Other keywords that can be passed to <b>xcmndFlushStorage</b> are <b>local, session,</b> and <b>all</b><br/>Please check the spelling of <b>"+e+"</b>."},CV070:function(e){return"Tried to assign <b>xcmndCompleteSlide</b> an improper range of slides. Could not indentify what <b>"+e+"</b> is supposed to represent. <br>Please check the spelling of <b>"+e+"</b>."},CV071:function(e){return"Tried to mark slide <b>"+e+"</b> as complete, but could not find any slide with the name <b>"+e+"</b>.<br/>Please check the spelling of <b>"+e+'</b>. Slide names are <b>case sensitive</b>. If the slide name contains spaces, wrap the slide name in "double quotes."'},CV072:function(e,a){return"Tried to mark slide number <b>"+e+"</b> as complete, but there are only <b>"+a+"</b> slides in the project.<br/>Perhaps you have deleted a few slides and this command needs updating."}}}),_extra.registerModule("eventManager",["EventMediator","EventDispatcher","slideObjectProxyAutoInstantiator"],function(){"use strict";var e={},a="ontouchstart"in _extra.w.document.documentElement;_extra.eventManager={useTouchEvents:a,lastEventTarget:void 0,eventDispatcher:new _extra.classes.EventDispatcher,addEventListener:function(e,a,t,r){var n=_extra.eventManager.getEventMediator(e);n&&n.addEventListener(a,t,r)},removeEventListener:function(e,a,t,r){var n=_extra.eventManager.getEventMediator(e);n&&n.removeEventListener(a,t,r)},getEventMediator:function(a){if(!e[a]){var t=new _extra.classes.EventMediator;t.setId(a),t.registerOnEmptyCallback(function(){delete e[a]}),e[a]=t}return _extra.slideObjects.proxyAutoInstantiator.check(a),e[a]},hasEventMediatorFor:function(a){return e.hasOwnProperty(a)},setEventTarget:function(e){_extra.eventManager.lastEventTarget=e},events:{MOUSE_DOWN:a?"touchstart":"mousedown",MOUSEDOWN:a?"touchstart":"mousedown",MOUSE_UP:a?"touchend":"mouseup",MOUSEUP:a?"touchend":"mouseup",MOUSE_MOVE:a?"touchmove":"mousemove",MOUSEMOVE:a?"touchmove":"mousemove",MOUSE_OVER:"mouseover",MOUSEOVER:"mouseover",MOUSE_OUT:"mouseleave",MOUSEOUT:"mouseleave",ROLLOVER:"mouseover",ROLLOUT:"mouseout",RIGHT_CLICK:"contextmenu",RIGHTCLICK:"contextmenu",CLICK:"click",DOUBLE_CLICK:"dblclick",DOUBLECLICK:"dblclick",DBLCLICK:"dblclick",ENTER:"enter",EXIT:"exit",VIDEO_ENDED:"videoended",VIDEOENDED:"videoended",VIDEO_END:"videoended",VIDEOEND:"videoended",AUDIO_ENDED:"audioended",AUDIOENDED:"audioended",AUDIO_END:"audioended",AUDIOEND:"audioended"}},_extra.slideObjects.proxyAutoInstantiator.registerModelLookup(_extra.eventManager.hasEventMediatorFor)}),_extra.registerModule("debugModePreferenceManager",["preferenceManager","debuggingManager"],function(){"use strict";var e={enable:function(){_extra.preferences.debugMode=!0},disable:function(){_extra.preferences.debugMode=!1}};_extra.preferenceManager.registerPreferenceModule("DebugMode",e)?e.enabled||e.disable():e.enable()}),_extra.registerModule("doubleClickDelayPreference",["preferenceManager"],function(){"use strict";_extra.preferences.doubleClickDelay=0;
var e={enable:function(){},update:function(a){if("number"!=typeof a){if(_extra.w.isNaN(a))return void e.disable();a=_extra.w.parseFloat(a)}_extra.preferences.doubleClickDelay=1e3*a},disable:function(){_extra.preferences.doubleClickDelay=0}};_extra.preferenceManager.registerPreferenceModule("DoubleClickDelay",e)||e.update(.5)}),_extra.registerModule("doubleDidgitPreferences",["preferenceManager"],function(){"use strict";function e(e){var a={suffix:e.suffix,enable:function(){},disable:function(){},update:function(a){a=a?a.toLowerCase():"";for(var t,r,n,i=!1,s=0;s<e.linkedVariables.length;s+=1)t=e.linkedVariables[s],n=_extra.preferences.doubleDidgits[t.variable],r=-1!==a.indexOf(t.term),r!==n&&(_extra.preferences.doubleDidgits[t.variable]=r,i=!0);i&&_extra.preferences.hasOwnProperty(e.updateMethodName)&&_extra.preferences[e.updateMethodName]()}};_extra.preferenceManager.registerPreferenceModule(e.suffix,a)&&a.update(_extra.variableManager.getVariableValue(a.name))}_extra.preferences.doubleDidgits={ProjectTotalHours:!1,ProjectTotalMinutes:!1,ProjectTotalSeconds:!0,ProjectElapsedHours:!1,ProjectElapsedMinutes:!1,ProjectElapsedSeconds:!0},e({suffix:"UseDoubleDigitElapsedTimeValues",updateMethodName:"calculateElapsedProjectTime",linkedVariables:[{term:"hour",variable:"ProjectElapsedHours"},{term:"minute",variable:"ProjectElapsedMinutes"},{term:"second",variable:"ProjectElapsedSeconds"}]}),e({suffix:"UseDoubleDigitTotalTimeValues",updateMethodName:"calculateTotalProjectTime",linkedVariables:[{term:"hour",variable:"ProjectTotalHours"},{term:"minute",variable:"ProjectTotalMinutes"},{term:"second",variable:"ProjectTotalSeconds"}]})}),_extra.registerModule("preferenceManager",["variableManager","parameterParser"],function(){"use strict";var e="xpref",a={};_extra.preferences={},_extra.preferenceManager={registerPreferenceModule:function(t,r){function n(){var e=_extra.variableManager.getVariableValue(i);_extra.variableManager.parse["boolean"](e)?(r.enabled||(r.enable(e),r.enabled=!0),r.update&&r.update(e)):r.enabled&&(r.disable(),r.enabled=!1)}var i=e+t;if(!_extra.variableManager.hasVariable(i)&&(i="_"+i,!_extra.variableManager.hasVariable(i)))return!1;if(a[i])throw new Error("Illegally attempted to register two behaviour modules with the name: "+t);if(!r.enable)throw new Error("Illegally tried to submit a behaviour module without an enable method specified in the preferenceInfo parameter object.");if(!r.disable)throw new Error("Illegally tried to submit a behaviour module without a disable method specified in the preferenceInfo parameter object.");return a[i]=r,r.enabled=!1,_extra.variableManager.listenForVariableChange(i,n),n(),!0}}}),_extra.registerModule("saveLocalStoragePreference",["preferenceManager","eventManager"],function(){"use strict";var e={enable:function(){},update:function(a){switch(a?_extra.w.isNaN(a)&&(a=a.toLowerCase()):a="",e.disable(),a){case"onenterslide":case"onslideenter":_extra.slideManager.enterSlideCallback.addCallback("*",_extra.variableManager.saveStorageVariables),_extra.w.addEventListener("unload",_extra.variableManager.saveStorageVariables);break;case"disable":case"disabled":case"off":case"no":break;case"exit":case"onexit":_extra.w.addEventListener("unload",_extra.variableManager.saveStorageVariables);break;default:if(_extra.variableManager.hasParsedVariables)for(var t in _extra.variableManager.storageVariables)_extra.variableManager.storageVariables.hasOwnProperty(t)&&_extra.variableManager.listenForVariableChange(t,e.onVariableChange);else{var r=function(){_extra.eventManager.eventDispatcher.removeEventListener("variablesInitialized",r),e.update(a)};_extra.eventManager.eventDispatcher.addEventListener("variablesInitialized",r)}_extra.w.addEventListener("unload",_extra.variableManager.saveStorageVariables)}},disable:function(){_extra.slideManager.enterSlideCallback.removeCallback("*",_extra.variableManager.saveStorageVariables),_extra.w.removeEventListener("unload",_extra.variableManager.saveStorageVariables);for(var a in _extra.variableManager.storageVariables)_extra.variableManager.storageVariables.hasOwnProperty(a)&&_extra.variableManager.stopListeningForVariableChange(a,e.onVariableChange)},onVariableChange:function(e){_extra.variableManager.saveStorageVariable(e.variableName)}},a=_extra.preferenceManager.registerPreferenceModule("SaveLocalStorage",e);a||(e.enable(),e.update("change"))}),_extra.registerModule("slideManager_global",["slideManager_software"],function(){"use strict";var e=_extra;return _extra.slideManager.currentSceneNumber=1,_extra.slideManager.currentSlideNumber=0,_extra.slideManager.currentSceneSlideNumber=0,_extra.slideManager.currentSlideID="0.0",_extra.slideManager.parseSlideNumber=function(e,a){if(void 0===a&&(a=e,e=1),"string"==typeof a){if(_extra.w.isNaN(a))return _extra.slideManager.getSlideIndexFromName(a);var t=a.split(".");switch(t.length){case 1:a=_extra.w.parseInt(t[0]);break;case 2:e=_extra.w.parseInt(t[0]),a=_extra.w.parseInt(t[1]);break;default:return null}}else void 0===a&&(e=_extra.slideManager.currentSceneNumber,a=_extra.slideManager.currentSceneSlideNumber);return _extra.slideManager._slideDatas.hasOwnProperty(e)&&_extra.slideManager._slideDatas[e].hasOwnProperty(a)?{scene:e,slide:a}:null},_extra.slideManager.getSlideName=function(e,a){return a=_extra.slideManager.parseSlideNumber(e,a),a?_extra.slideManager.slideNames[a.scene][a.slide]:null},_extra.slideManager.getSlideData=function(e,a){var t=_extra.slideManager.parseSlideNumber(e,a);return t?new _extra.classes.SlideDataProxy(_extra.slideManager._slideDatas[t.scene][t.slide]):null},_extra.slideManager.getSlideIndexFromName=function(e){for(var a,t,r=0;r<_extra.slideManager.slideNames.length;r+=1)if(a=_extra.slideManager.slideNames[r],t=a.indexOf(e),t>-1)return{scene:r,slide:t};return null},_extra.slideManager.gotoSlide=function(e,a){var t=_extra.slideManager.parseSlideNumber(e,a);return t?(_extra.slideManager.internalGotoSlide(t.scene,t.slide),!0):!1},_extra.slideManager.enactFunctionOnSlides=function(e,a){if(_extra.isQuery(e)){var t=_extra.queryList(e,_extra.slideManager.slideNames[1]);if(t)for(var r=0;r<t.length;r+=1)a(t[r])}else a(e)},_extra.slideManager.enterSlideCallback=new _extra.classes.Callback,_extra.slideManager.onSlideEnter=function(){_extra||(window._extra=e);var a=_extra.slideManager.getCurrentSceneNumber(),t=_extra.slideManager.getCurrentSlideNumber(),r=a+"."+t;_extra.slideManager.currentSceneNumber=a,_extra.slideManager.currentSlideNumber=t,_extra.slideManager.currentSceneSlideNumber=_extra.slideManager.getCurrentSceneSlideNumber(),_extra.slideManager.currentSlideID=r,-1!==_extra.slideManager.currentSceneSlideNumber&&(_extra.slideManager.enterSlideCallback.sendToCallback("*",r),_extra.slideManager.hasOwnProperty("software_onSlideEnter")&&_extra.slideManager.software_onSlideEnter(),0===a&&_extra.slideManager.enterSlideCallback.sendToCallback(t,r),_extra.slideManager.enterSlideCallback.sendToCallback(r,r))},_extra.slideManager.addEnterSlideEventListener(_extra.slideManager.onSlideEnter),function(){_extra.slideManager.isInitiated()?_extra.slideManager.onSlideEnter():_extra.slideManager.registerOnInitiatedCallback(_extra.slideManager.onSlideEnter)}}),_extra.registerModule("slideManager_software",["softwareInterfacesManager","Callback"],function(){"use strict";var e;_extra.slideManager={_slideDatas:[],slideNames:[],slideCount:NaN,internalGotoSlide:function(e,a){_extra.error("internalGotoSlide not defined for Storyline")},getCurrentSceneNumber:function(){return _extra.storyline.player.currentSlide().sceneIndex},getCurrentSlideNumber:function(){return _extra.storyline.player.currentSlide().slideIndex},getCurrentSceneSlideNumber:function(){return _extra.storyline.player.currentSlide().sceneSlideIndex}};for(var a,t=0;t<_extra.storyline.slidesData.length;t+=1)e=_extra.storyline.slidesData[t],a=e.sceneIndex,_extra.slideManager._slideDatas.length<=a&&(_extra.slideManager._slideDatas.push([]),_extra.slideManager.slideNames.push([])),_extra.slideManager._slideDatas[a].push(e),_extra.slideManager.slideNames[a].push(e.title);_extra.slideManager.addEnterSlideEventListener=function(e){}},_extra.STORYLINE),_extra.registerModule("enterTimelineCallback",["hookManager","slideObjectManager_global"],function(){"use strict";function e(e,a){e.addEventListener(_extra.eventManager.events.ENTER,a),t[e.name]=a}function a(e){var a=t[e.name];a&&(e.removeEventListener(_extra.eventManager.events.ENTER,a),delete t[e.name])}var t={};_extra.slideObjects.enterTimelineCallback=new _extra.classes.Callback,_extra.addHookBefore(_extra.slideObjects.enterTimelineCallback,"addCallback",function(a){var t=_extra.slideObjects.getSlideObjectByName(a),r=function(){_extra.slideObjects.enterTimelineCallback.sendToCallback(a)};_extra.slideObjects.enterTimelineCallback.hasCallbackFor(a)||e(t,r)}),_extra.addHookAfter(_extra.slideObjects.enterTimelineCallback,"removeCallback",function(e){var t=_extra.slideObjects.getSlideObjectByName(e);_extra.slideObjects.enterTimelineCallback.hasCallbackFor(e)||a(t)})}),_extra.registerModule("slideObjectHideShowListener",["slideObjectManager_global","hookManager"],function(){"use strict";function e(e,a){e&&_extra.addHookAfter(e.location,e.name,function(e){})}e(_extra.slideObjects._internalShowSlideObjectDetails,"show"),e(_extra.slideObjects._internalHideSlideObjectDetails,"hide")}),_extra.registerModule("slideObjectManager_global",["slideObjectManager_software","queryManager"],function(){"use strict";var e={};_extra.slideObjects.enteredSlideChildObjectsCallbacks=new _extra.classes.Callback,_extra.slideObjects.getSlideObjectProxy=function(a){var t;if("object"==typeof a)t=a,a=t.id;else if(t=_extra.slideObjects.getSlideObjectElement(a),!t)return null;return e[a]||(e[a]=!0,e[a]=_extra.factories.createSlideObjectProxy(a,t)),e[a]},_extra.slideObjects.hasProxyFor=function(a){return e.hasOwnProperty(a)},_extra.slideObjects.getSlideObjectByName=function(e){return _extra.isQuery(e)?_extra.slideObjects.getSlideObjectNamesMatchingWildcardName(e,!0):_extra.slideObjects.getSlideObjectProxy(e)},_extra.slideObjects.unloadSlideObjectsFromOtherSlides=function(){for(var a in e)e.hasOwnProperty(a)&&(_extra.slideManager.hasSlideObjectOnSlide(a,_extra.slideManager.currentSceneNumber,_extra.slideManager.currentSlideNumber)||(e[a].unload(),delete e[a]))},_extra.slideObjects.getSlideObjectProperty=function(e,a){var t=_extra.slideObjects.getSlideObjectByName(e);return t?t[a]:_extra.slideObjects.model.retrieve(e,a)},_extra.slideObjects.enableForMouse=function(e){_extra.slideObjects.model.write(e,"enableForMouse",!0)},_extra.slideObjects.disableForMouse=function(e){_extra.slideObjects.model.write(e,"enableForMouse",!1)},_extra.slideObjects.setCursor=function(e,a){_extra.slideObjects.enactFunctionOnSlideObjects(e,function(e){_extra.slideObjects.model.write(e,"cursor",a)})},_extra.slideManager.enterSlideCallback.addCallback("*",function(){var e;_extra.slideObjects.unloadSlideObjectsFromOtherSlides();var a=_extra.slideManager.getSlideData();if(a)for(var t=0;t<a.slideObjects.length;t+=1)e=a.slideObjects[t],_extra.slideObjects.enteredSlideChildObjectsCallbacks.sendToCallback("*",e),_extra.slideObjects.enteredSlideChildObjectsCallbacks.sendToCallback(_extra.dataManager.getSlideObjectTypeByName(e),e);else _extra.error("Could not find slide data in slideObjectManager.global")})}),_extra.registerModule("slideObjectManager_software",["generalDataManager","Callback","slideManager_global"],function(){"use strict";return _extra.slideObjects={getSlideObjectElement:function(e){return _extra.log("_extra.slideObjects.getSlideObjectElement has yet to be defined"),_extra.w.document.getElementById(e)}},function(){}},_extra.STORYLINE),_extra.registerModule("slideObjectProxyAutoInstantiator",["slideObjectManager_global"],function(){"use strict";var e=[];_extra.slideObjects.proxyAutoInstantiator={check:function(e){return _extra.slideManager.hasSlideObjectOnSlide(e)&&!_extra.slideObjects.hasProxyFor(e)&&_extra.slideObjects.getSlideObjectProxy(e),_extra.slideObjects.hasSlideObjectInProject(e)},registerModelLookup:function(a){e.push(a)},hasModelDataFor:function(a){for(var t=0;t<e.length;t+=1)if(e[t](a))return!0;return!1}},_extra.slideObjects.enteredSlideChildObjectsCallbacks.addCallback("*",function(e){_extra.slideObjects.proxyAutoInstantiator.hasModelDataFor(e)&&!_extra.slideObjects.hasProxyFor(e)&&_extra.slideObjects.getSlideObjectProxy(e)})}),_extra.registerModule("softwareInterfacesManager",function(){"use strict";_extra.storyline={api:_extra.w.story,variables:_extra.w.story.variables,player:_extra.w.player,slidesData:_extra.w.story.allSlides}},_extra.STORYLINE),_extra.registerModule("getVariableManager",["variableManager"],function(){"use strict";function e(e){return"get_"===e.substr(0,4).toLowerCase()?"get_"+e.substr(4,e.length):"_get_"===e.substr(0,5).toLowerCase()?"get_"+e.substr(5,e.length):void 0}var a;_extra.variableManager.prefixCallback.addCallback("get",function(t){if(!a){var r,n,i=/\+/g,s=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(i," "))},l=_extra.w.document.location.search.substring(1);for(a={};null!==(r=s.exec(l));)n=o(r[1]),"get_"!==n.substr(0,4).toLowerCase()&&"_get_"!==n.substr(0,5).toLowerCase()&&(n="get_"+n),a[n]=o(r[2])}var u=a[e(t)];void 0===u?u=null:_extra.w.isNaN(u)||(u=_extra.w.parseFloat(u)),null!==u&&_extra.variableManager.setVariableValue(t,u)})}),_extra.registerModule("localStorageManager",["variableManager","queryManager"],function(){"use strict";function e(e,a){return!n.hasOwnProperty(e)&&!i.hasOwnProperty(a.storageName)}function a(){r={},_extra.variableManager.storageVariables=r}function t(e,t,n){r||a();var i;try{i=t.getItem(e)}catch(s){return void _extra.error("PV001",n)}i&&(_extra.w.isNaN(i)||(i=_extra.w.parseFloat(i)),_extra.variableManager.setVariableValue(e,i)),r[e]={storage:t,storageName:n}}var r,n={},i={},s="local",o="session";_extra.variableManager.saveStorageVariables=function(){var e;for(e in r)r.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&_extra.variableManager.saveStorageVariable(e)},_extra.variableManager.saveStorageVariable=function(a){var t;r[a]&&(t=r[a],e(a,t)&&t.storage.setItem(a,_extra.variableManager.getVariableValue(a)))},_extra.variableManager.enactFunctionOnStorageVariables=function(e,a){var t=_extra.queryList(e,r);if(t)for(var n=0;n<t.length;n+=1)a(t[n])},_extra.variableManager.flushStorage=function(e){if(r.hasOwnProperty(e))r[e].storage.removeItem(e),n[e]=!0;else switch(e.toLowerCase()){case"localstorage":case"local":_extra.w.localStorage.clear(),i[s]=!0;break;case"sessionstorage":case"session":_extra.w.sessionStorage.clear(),i[o]=!0;break;case"all":_extra.w.sessionStorage.clear(),_extra.w.localStorage.clear(),i[o]=!0,i[s]=!0;break;default:_extra.error("CV060",e)}},_extra.variableManager.prefixCallback.addCallback("ls",function(e){try{t(e,_extra.w.localStorage,s)}catch(a){_extra.error("PV001","local")}}),_extra.variableManager.prefixCallback.addCallback("ss",function(e){try{t(e,_extra.w.sessionStorage,o)}catch(a){_extra.error("PV001","session")}})}),_extra.registerModule("mathActions",["variableManager"],function(){"use strict";function e(e,a){var t=_extra.variableManager.getVariableValue(e);t=a(t),_extra.variableManager.setVariableValue(e,t)}_extra.variableManager.mathActions={random:function(e,a,t){var r=_extra.w.Math.random();if(1!==a||0!==t){var n=a-t;r*=n,r+=t,r=_extra.w.Math.round(r)}_extra.variableManager.setVariableValue(e,r)},round:function(a){e(a,_extra.w.Math.round)},floor:function(a){e(a,_extra.w.Math.floor)},ceil:function(a){e(a,_extra.w.Math.ceil)},roundTo:function(a,t,r){function n(e){switch(r){case"up":return _extra.w.Math.ceil(e);case"down":return _extra.w.Math.floor(e);default:return _extra.w.Math.round(e)}}e(a,function(e){return e*=Math.pow(10,t),e=n(e),e/=_extra.w.Math.pow(10,t)})}}}),_extra.registerModule("replaceVariablesInString",["variableManager_software"],function(){"use strict";_extra.variableManager.replaceVariablesInString=function(e){for(var a,t="",r=e.split("$$"),n=0;n<r.length;n+=1)a=r[n],n%2===1&&(a=_extra.variableManager.hasVariable(a)?_extra.variableManager.getVariableValue(a):"$$"+a+"$$"),t+=a;return t}}),_extra.registerModule("variableManager",["variableManager_software","VariableEventManager"],function(){"use strict";var e=new _extra.classes.VariableEventManager(_extra.variableManager.internalListenForVariableChange,_extra.variableManager.internalStopListeningForVariableChange);return _extra.variableManager.variableData=null,_extra.variableManager.hasParsedVariables=!1,_extra.variableManager.prefixCallback=new _extra.classes.Callback,_extra.variableManager.commands={},_extra.variableManager.listenForVariableChange=function(a,t){e.addListener(a,t)},_extra.variableManager.stopListeningForVariableChange=function(a,t){e.removeListener(a,t)},_extra.variableManager.enactFunctionOnVariables=function(e,a){if(_extra.isQuery(e)){var t=_extra.queryList(e,_extra.variableManager.variableData);if(t)for(var r=0;r<t.length;r+=1)a(t[r])}else a(e)},_extra.variableManager.isSystemVariable=function(e){return _extra.variableManager.variableData&&void 0!==_extra.variableManager.variableData[e]?_extra.variableManager.variableData[e].isSystemVariable:!1},_extra.variableManager.reset=function(e){if(_extra.variableManager.variableData){var a=_extra.variableManager.variableData[e];a&&_extra.variableManager.setVariableValue(e,a.defaultValue)}},function(){_extra.variableManager.variableData={},_extra.variableManager.forEachVariable(function(e){var a,t,r=e.name;_extra.variableManager.variableData[r]={defaultValue:_extra.variableManager.getVariableValue(r),isSystemVariable:e.isSystemVariable},e.isSystemVariable||(a=r.split("_"),t=a[0],""===t&&(t=a[1]),t=t.toLowerCase(),_extra.variableManager.prefixCallback.sendToCallback(t,r))}),_extra.variableManager.hasParsedVariables=!0,_extra.eventManager.eventDispatcher.dispatchEvent(_extra.createEvent("variablesInitialized"))}}),_extra.registerModule("variableManager_software",["softwareInterfacesManager","Callback"],function(){"use strict";_extra.variableManager={getVariableValue:function(e){return _extra.storyline.player.GetVar(e)},setVariableValue:function(e,a){_extra.storyline.player.SetVar(e,a)},hasVariable:function(e){return _extra.storyline.variables.hasOwnProperty(e)},internalListenForVariableChange:function(e,a){_extra.storyline.api.registerVariableEventSubscriber({handleEvent:a},e,0)},internalStopListeningForVariableChange:function(e,a){for(var t=_extra.storyline.api.eventSubscribers,r=0;r<t.length;r+=1){var n=t[r];if(n.item.handleEvent===a&&n.varname===e)return void t.splice(r,1)}_extra.error("_extra.variableManager.stopListeningForVariableChange logic has yet to be implemented")},forEachVariable:function(e){for(var a in _extra.storyline.variables)_extra.storyline.variables.hasOwnProperty(a)&&e({name:a,isSystemVariable:!1})}}},_extra.STORYLINE),_extra.registerModule("whiteSpaceManager",["variableManager"],function(){"use strict";_extra.variableManager.safelyRemoveWhiteSpace=function(e,a){return e&&e.replace?e.replace(/([^[]+)|(\[[^\]]+\])/g,function(e,t,r){return t?(a&&(t=t.replace(/\,/g,a)),t.replace(/\s/g,"")):r}):e}}),_extra.registerModule("BaseSlideObjectProxy",function(){"use strict";function e(e,a){this.DOMElement=e,this._data=a}e.prototype={get name(){return this.DOMElement.id},get data(){return this._data},get type(){return this._data.type}},e.prototype.changeState=function(e){_extra.slideObjects.states.change(this.name,e)},e.prototype.unload=function(){},_extra.registerClass("BaseSlideObjectProxy",e,_extra.STORYLINE)},_extra.STORYLINE),_extra.registerModule("dataTypeConverters",["globalSlideObjectTypes"],function(){},_extra.STORYLINE),_extra.registerModule("globalSlideObjectTypes",function(){"use strict";_extra.dataTypes={slideObjects:{UNKNOWN:0,TEXT_ENTRY_BOX:1,CAPTION:2,SHAPE:3,HIGHLIGHT_BOX:4,BUTTON:5,WIDGET:6,WEB_OBJECT:7,MOUSE:8,ZOOM_AREA:9,ANIMATION:10,IMAGE:11,VIDEO:12,MOUSE_CLICK:13,CLICK_BOX:14,REVIEW_AREA:15}}}),_extra.registerModule("slideObjectModelManager",["slideObjectManager_global","Model","slideObjectProxyAutoInstantiator"],function(){"use strict";_extra.slideObjects.model=new _extra.classes.Model;var e=_extra.slideObjects.model.write;_extra.slideObjects.model.write=function(a,t,r){e(a,t,r);var n=_extra.slideObjects.proxyAutoInstantiator.check(a);n||_extra.error("CV001",a)},_extra.slideObjects.proxyAutoInstantiator.registerModelLookup(_extra.slideObjects.model.hasDataFor)}),_extra.registerModule("registerStateMetaData",["slideObjectManager_global","SlideObjectStateManager","slideManager_global","stateManager_software"],function(){"use strict";var e={},a="r",t="d",r="n";_extra.slideObjects.states.doesSlideObjectHaveDownState=function(a){var t,r=e[_extra.slideManager.currentSlideID];return r&&(t=r[a])?t.data.hasOwnProperty("d"):!1},_extra.slideObjects.states.registerStateMetaData=function(a,t){var r,n,i=_extra.slideManager.currentSlideID;e[i]||(e[i]={}),n=e[i],n[a]&&_extra.error("AS003",a),r=_extra.slideObjects.getSlideObjectByName(a),r?n[a]=new _extra.classes.SlideObjectStateManager(r,t):_extra.error("Could not find slideObjectProxy for '"+a+"' in the registerStateMetaData module.")},_extra.slideObjects.states.isAutomaticallyChangingStates=function(a){var t,r,n;for(r in e)if(e.hasOwnProperty(r)){t=e[r];for(n in t)if(t.hasOwnProperty(n)&&n===a)return!0}return!1},_extra.slideManager.enterSlideCallback.addCallback("*",function(a){var t,r,n;for(r in e)if(e.hasOwnProperty(r)&&r!==a){t=e[r];for(n in t)t.hasOwnProperty(n)&&t[n].unload();delete e[r]}}),_extra.slideObjects.enteredSlideChildObjectsCallbacks.addCallback("*",function(e){function n(e){switch(e.toLowerCase()){case"down":case"mousedown":return t;case"rollover":case"over":case"mouseover":return a;case"normal":return r;default:return null}}function i(e){return u=n(e[0]),u?e.shift():e.length>1&&(u=n(e[e.length-1]),u&&(e.length-=1)),u?u:r}function s(a,t){function r(a){o.hasOwnProperty(a)?_extra.error("AS002",e,t,a):o[a]=null}function n(e,a){if(!_extra.w.isNaN(e))return _extra.w.parseInt(e);switch(e.toLowerCase()){case"true":return!0;case"false":return!1}if(!a){switch(e.toLowerCase()){case"not":e={modifier:"!"};break;case"gt":e={modifier:">"};break;case"lt":e={modifier:"<"};break;case"gte":e={modifier:">="};break;case"lte":e={modifier:"<="}}"object"==typeof e&&(u=l)}return e}for(var i,s,o={},l=!1,u=!1,c=0;c<a.length;c+=1)s=a[c],u?(o[u].value=n(s,!0),u=!1):l?_extra.variableManager.hasVariable(s)?(r(s),l=s):(o[l]=n(s),l=null):(i&&(s=i+"_"+s,i=null),_extra.variableManager.hasVariable(s)?(r(s),l=s):c>=a.length-1?_extra.error("AS001",e,t,s):i=s);return _extra.w.Object.keys(o).length<=0?null:(u&&_extra.error("AS004",e,t,s),o)}for(var o,l,u,c=_extra.dataManager.getSlideObjectDataByName(e),d={},b=0;b<c.states.length;b+=1)o=c.states[b],"x_"===o.substr(0,2).toLowerCase()&&(l=o.split("_"),l.shift(),u=i(l),d[u]||(d[u]={}),d[u][o]=s(l,o));_extra.w.Object.keys(d).length>0&&_extra.slideObjects.states.registerStateMetaData(e,d)})}),_extra.registerModule("stateManager_software",["Callback","slideObjectManager_global"],function(){"use strict";_extra.slideObjects.states={changeCallback:new _extra.classes.Callback}},_extra.STORYLINE),_extra.registerModule("commandVariableManager",["variableManager","stateManager_software","whiteSpaceManager"],function(){"use strict";return _extra.variableManager.commandVariables={},_extra.variableManager.parameterHandlers={sendParametersAsParameters:function(e,a){a.apply(_extra,e)},executeOncePerParameter:function(e,a){for(var t=0;t<e.length;t+=1)a(e[t])}},_extra.variableManager.registerCommandVariable=function(e,a,t){_extra.variableManager.commandVariables[e]||(t||(t=_extra.variableManager.parameterHandlers.executeOncePerParameter),_extra.variableManager.commandVariables[e]={callback:a,parameterHandler:t})},_extra.variableManager.prepareParameters=function(e){if("object"==typeof e){if(void 0===e.id)return null;e=e.id}return""!==e?"string"==typeof e?(e=_extra.variableManager.safelyRemoveWhiteSpace(e,"\x00"),e.split("\x00")):[e]:null},function(){function e(e,a){_extra.variableManager.listenForVariableChange(e,function(){var t=_extra.variableManager.getVariableValue(e),r=_extra.variableManager.prepareParameters(t);r&&(a.parameterHandler(r,a.callback),_extra.variableManager.setVariableValue(e,""))})}function a(a){_extra.variableManager.hasVariable(a)&&e(a,_extra.variableManager.commandVariables[n])}var t,r="xcmnd";for(var n in _extra.variableManager.commandVariables)_extra.variableManager.commandVariables.hasOwnProperty(n)&&(t=r+n,a(t),a("_"+t));_extra.variableManager.commandVariables=null,_extra.variableManager.registerCommandVariable=null,_extra.variableManager.parameterHandlers=null}}),_extra.registerModule("commandVariables_global",["processCommandVariableRegistration","localStorageManager","parameterParseSets"],function(){"use strict";var e="success",a=_extra.variableManager.parseSets,t=_extra.variableManager.parameterHandlers,r={parameterToQuery:function(e,a){e.query=a},parametersToQueryString:function(e,a,t){e.query=a,e.string=t}},n={createBasicSlideObjectData:function(e,t){return{commandName:e,updateData:r.parameterToQuery,parseSet:a.SP.CD.SOR,parseSetData:{query:void 0,output:t}}},createVariableCommandData:function(e,t){return{commandName:e,updateData:r.parameterToQuery,parseSet:a.SP.CD.VR,parseSetData:{query:void 0,output:t}}},createEventListenerObjectData:function(r,n){return{commandName:r,updateData:function(e,a,t,r,n){e.slideObject=a,e.event=t,e.interactiveObject=r,e.criteria=n},parameterHandler:t.sendParametersAsParameters,parseSet:a.MP.SOR_EVT_INT_CRI,parseSetData:{slideObject:void 0,event:void 0,interactiveObject:void 0,criteria:void 0,output:n,SOR:{exceptions:{invalidName:function(e){return _extra.error("CV030",e,r),_extra.variableManager.parseSets.SKIP_ERROR}}},EVT:{validation:_extra.eventManager.events,validationCase:"upper",exceptions:{invalidString:function(e){return _extra.error("CV031",e,r),_extra.variableManager.parseSets.SKIP_ERROR}}},CRI:{"default":e}}}},createBaseGetterSetterData:function(e,r){return{commandName:e,updateData:function(e,a,t){e.slideObject=a,e.number=t},parameterHandler:t.sendParametersAsParameters,parseSet:a.MP.SOR_NR,parseSetData:{slideObject:void 0,number:void 0,get:r,SOR:{}}}},createScoreGetterSetterData:function(e,a,t){var r=n.createGetterSetterData(e,a,t);return r.parseSetData.SOR.requireInteractiveObject=!0,r.parseSetData.NR.exceptions.NaN=function(e){return e=e.toLowerCase(),"max"===e||"maximum"===e||"top"===e||"full"===e||"topscore"===e?"max":"half"===e?"half":!1},r},createGetterData:function(e,a){var t=n.createBaseGetterSetterData(e,a);return t.parseSetData.getOnly=!0,t.parseSetData.exceptions={illegalSet:function(a){return _extra.error("CV006",a,e),_extra.variableManager.parseSets.SKIP_ERROR}},t},createGetterSetterData:function(e,a,t){var r=n.createBaseGetterSetterData(e,a);return r.parseSetData.set=t,r.parseSetData.NR={exceptions:{NaN:function(e){return e=e.toLowerCase(),"default"===e||"reset"===e||"original"===e?"reset":!1}}},r}};_extra.variableManager.processCommandVariableRegistration({Hide:n.createBasicSlideObjectData("hide",_extra.slideObjects.hide),Show:n.createBasicSlideObjectData("show",_extra.slideObjects.show),Enable:n.createBasicSlideObjectData("enable",_extra.slideObjects.enable),Disable:n.createBasicSlideObjectData("disable",_extra.slideObjects.disable),EnableMouseEvents:n.createBasicSlideObjectData("enableMouseEvents",_extra.slideObjects.enableForMouse),DisableMouseEvents:n.createBasicSlideObjectData("disableMouseEvents",_extra.slideObjects.disableForMouse),PreventTabOut:n.createBasicSlideObjectData("preventTabOut",_extra.focusManager.lockFocusTo),AllowTabOut:n.createBasicSlideObjectData("allowTabOut",_extra.focusManager.unlockFocusFrom),Round:n.createVariableCommandData("round",_extra.variableManager.mathActions.round),Floor:n.createVariableCommandData("floor",_extra.variableManager.mathActions.floor),Ceil:n.createVariableCommandData("ceil",_extra.variableManager.mathActions.ceil),RoundTo:{commandName:"roundTo",parameterHandler:t.sendParametersAsParameters,updateData:function(e,a,t,r){e.variable=a,e.number=t,e.string=r},parseSet:a.MP.VR_NR_STR,parseSetData:{variable:void 0,number:void 0,string:void 0,output:_extra.variableManager.mathActions.roundTo,STR:{"default":"normal",validation:{up:"up",upper:"up",ceil:"up",down:"down",floor:"down",normal:"normal",none:"normal",ordinary:"normal","null":"normal"}}}},Random:{commandName:"random",updateData:function(e,a,t,r){e.variable=a,e.number1=t,e.number2=r},parameterHandler:t.sendParametersAsParameters,parseSet:a.MP.VR_NR1_NR2,parseSetData:{variable:void 0,number1:void 0,number2:void 0,output:_extra.variableManager.mathActions.random,NR1:{"default":1},NR2:{"default":0}}},Reset:{commandName:"reset",updateData:r.parameterToQuery,parseSet:a.SP.CD.VR,parseSetData:{query:void 0,output:_extra.variableManager.reset,exceptions:{invalidName:function(e){return _extra.error("CV050",e),_extra.variableManager.parseSets.SKIP_ERROR}}}},FlushStorage:{commandName:"flushStorage",updateData:r.parameterToQuery,parseSet:a.SP.CD.VR,parseSetData:{query:void 0,output:_extra.variableManager.flushStorage,alternateQueryHandler:_extra.variableManager.enactFunctionOnStorageVariables,exceptions:{invalidName:function(e){var a=e.toLowerCase();return"local"===a||"session"===a||"all"===a?a:(_extra.error("CV060",e),_extra.variableManager.parseSets.SKIP_ERROR)}}}},CompleteSlide:{commandName:"completeSlide",updateData:r.parameterToQuery,parseSet:a.SP.CD.SLR,parseSetData:{query:void 0,output:_extra.TOCManager.completeSlide}},AddEventListener:n.createEventListenerObjectData("addEventListener",function(e,a,t,r){_extra.eventManager.addEventListener(e,a,t,r)}),RemoveEventListener:n.createEventListenerObjectData("removeEventListener",function(e,a,t,r){_extra.eventManager.removeEventListener(e,a,t,r)}),Alert:{commandName:"alert",parseSet:a.MP.STR1_STR2_INT_CRI,parameterHandler:t.sendParametersAsParameters,updateData:function(e,a,t,r,n){e.string1=a,e.string2=t,e.interactiveObject=r,e.criteria=n},parseSetData:{string1:void 0,string2:void 0,interactiveObject:void 0,criteria:void 0,STR2:{"default":"CpExtra Alert"},INT:{"default":null},CRI:{"default":e},output:function(e,a,t,r){var n={message:e,title:a};t&&(n.firstButtonAction=function(){_extra.actionManager.callActionOn(t,r)}),_extra.alertManager.sendAlert(n)}}},Score:n.createScoreGetterSetterData("score",function(e,a){_extra.variableManager.setVariableValue(e,_extra.quizManager.getSlideObjectScore(a))},function(e,a){_extra.quizManager.setSlideObjectScore(e,a)}),MaxScore:n.createGetterData("maxScore",function(e,a){var t=_extra.quizManager.getSlideObjectQuestionData(a);t&&_extra.variableManager.setVariableValue(e,t.maxScore)}),PosX:n.createGetterSetterData("posX",function(e,a){_extra.variableManager.setVariableValue(e,_extra.slideObjects.getSlideObjectProperty(a,"x"))},function(e,a){_extra.slideObjects.model.write(e,"x",a)}),PosY:n.createGetterSetterData("posY",function(e,a){_extra.variableManager.setVariableValue(e,_extra.slideObjects.getSlideObjectProperty(a,"y"))},function(e,a){_extra.slideObjects.model.write(e,"y",a)}),Width:n.createGetterData("width",function(e,a){_extra.variableManager.setVariableValue(e,_extra.slideObjects.getSlideObjectProperty(a,"width"))}),Height:n.createGetterData("height",function(e,a){_extra.variableManager.setVariableValue(e,_extra.slideObjects.getSlideObjectProperty(a,"height"))}),ChangeState:{commandName:"changeState",updateData:r.parametersToQueryString,parameterHandler:t.sendParametersAsParameters,parseSet:a.MP.SOR_STR,parseSetData:{query:void 0,string:void 0,output:_extra.slideObjects.states.change}},SetCursor:{commandName:"setCursor",updateData:r.parametersToQueryString,parameterHandler:t.sendParametersAsParameters,parseSet:a.MP.SOR_STR,parseSetData:{query:void 0,string:void 0,output:_extra.slideObjects.setCursor,STR:{exceptions:{invalidString:function(e){return _extra.error("CV020",e),
_extra.variableManager.parseSets.SKIP_ERROR}},validation:{auto:null,"default":null,none:null,"context-menu":null,help:null,pointer:null,progress:null,wait:null,cell:null,crosshair:null,text:null,"vertical-text":null,alias:null,copy:null,move:null,"no-drop":null,"not-allowed":null,"all-scroll":null,"col-resize":null,"row-resize":null,"n-resize":null,"e-resize":null,"s-resize":null,"w-resize":null,"ne-resize":null,"nw-resize":null,"se-resize":null,"sw-resize":null,"ew-resize":null,"ns-resize":null,"nesw-resize":null,"nwse-resize":null,"zoom-in":null,"zoom-out":null,grab:null,grabbing:null}}}},CallActionOn:{commandName:"callActionOn",updateData:function(e,a,t){e.interactiveObject=a,e.criteria=t},parameterHandler:t.sendParametersAsParameters,parseSet:a.MP.INT_CRI,parseSetData:{query:void 0,string:void 0,output:_extra.actionManager.callActionOn,CRI:{"default":e}}}})}),_extra.registerModule("parameterParser",["variableManager","queryManager","whiteSpaceManager"],function(){"use strict";var e={string:{"null":function(e,a){return a.isSlideObject=!1,a.isVariable=!1,a.isQuery=!1,a.isNumber=!1,a.isBlank=!0,e},number:function(e,a){return a.value=_extra.w.parseFloat(e),a.isSlideObject=!1,a.isVariable=!1,a.isQuery=!1,a.isBlank=!1,e},explicitString:function(e,a){return"["===e.charAt(0)&&"]"===e.charAt(e.length-1)&&(e=e.substr(1,e.length-2),a.value=e,a.isString=!0),e},string:function(a,t,r){return t.isBlank=!1,a=e.string.explicitString(a,t),!t.isString&&(a=e.string.$variable(a,t),t.is$Variable)?a:(t.isSlideObject=_extra.slideObjects.hasSlideObjectInProject(a),t.isQuery=_extra.isQuery(a),t.isVariable=t.isString?!1:_extra.variableManager.hasVariable(a),a=e.string.customType(a,t,r))},customType:function(e,a,t){return!t||a.isSlideObject||a.isVariable||a.isQuery||(a.isCustomType=t(e,a)),e},$variable:function(e,a){return"$$"===e.substr(0,2)&&"$$"===e.substr(e.length-2,2)&&(e=e.substr(2,e.length-4),a.isVariable=_extra.variableManager.hasVariable(e),a.is$Variable=!0,a.isSlideObject=!1,a.isQuery=!1,a.value=e,a.isVariable||_extra.error("PE001",e)),e},variable:function(e,a,t){var r=_extra.variableManager.getVariableValue(e);return void 0!==r&&r.replace&&(r=_extra.variableManager.safelyRemoveWhiteSpace(r)),a.variable=_extra.variableManager.parse.string(r,t,!0),e}}};_extra.variableManager.parse={string:function(a,t,r){var n={value:a,isNumber:!_extra.w.isNaN(a),isString:!1};return a=n.isNumber?e.string.number(a,n):a?e.string.string(a,n,t):e.string["null"](a,n),n.isVariable&&!r&&(a=e.string.variable(a,n,t)),n},"boolean":function(e){function a(e){return e>0}switch(typeof e){case"number":return a(e);case"string":return isNaN(e)?(e=e.toLowerCase(),!("false"===e||"no"===e||"fail"===e||"failure"===e)):a(_extra.w.parseFloat(e));default:return null}}}}),_extra.registerModule("parameterParseSets",["parameterParser","variableManager"],function(){"use strict";var e,a="success",t="failure",r="focuslost",n=function(e,a,t){return!e.hasOwnProperty("default")||null!==e[a]&&void 0!==e[a]?void t():void e.output(e["default"])},i=function(e,a,t){e.substituteParseResult?(e.parseResult=e.substituteParseResult,delete e.substituteParseResult):e.parseResult=_extra.variableManager.parse.string(e[a]),t&&e.parseResult.isVariable&&(e.parseResult=e.parseResult.variable)},s=function(e,a,t,r){void 0===e[a]&&(e[a]={}),e[a][r]=e[t]},o=function(e,a){var t;return e.output=function(e){t=e},a(e),t},l=function(e,a,t){var r=e.output;e.output=t,a(e),e.output=r},u=function(a){if(a.data.exceptions&&a.data.exceptions.hasOwnProperty(a.exceptionName)){var t=a.data.exceptions[a.exceptionName](a.issue);if(t===e.SKIP_ERROR)return;if(t)return void a.output(t)}a.fail()};_extra.variableManager.parseSets={SKIP_ERROR:{},SP:{CD:{SOR:function(e){function a(){i(e,"query",!0),e.parseResult.isSlideObject?t(e.parseResult.value):e.parseResult.isQuery?e.noQueries?u({data:e,exceptionName:"illegalQuery",issue:e.parseResult.value,output:e.output,fail:function(){_extra.error("CV004",e.parseResult.value)}}):_extra.slideObjects.enactFunctionOnSlideObjects(e.parseResult.value,function(e){t(e,!0)}):u({data:e,exceptionName:"invalidName",issue:e.parseResult.value,output:e.output,fail:function(){_extra.error("CV001",e.parseResult.value)}})}function t(a,t){e.requireInteractiveObject&&!_extra.slideObjects.isInteractiveObject(a)?t!==!0&&u({data:e,exceptionName:"nonInteractive",issue:a,output:e.output,fail:function(){_extra.error("CV007",a)}}):e.output(a)}n(e,"query",a)},VR:function(e){function a(){i(e,"query",!1),e.parseResult.is$Variable&&(e.parseResult=e.parseResult.variable),e.parseResult.isVariable?e.output(e.parseResult.value):e.parseResult.isQuery?e.alternateQueryHandler?e.alternateQueryHandler(e.parseResult.value,e.output):_extra.variableManager.enactFunctionOnVariables(e.parseResult.value,e.output):e.parseResult.isNumber?t("CV008","invalidNumber"):e.parseResult.isString&&_extra.variableManager.hasVariable(e.parseResult.value)?e.output(e.parseResult.value):t("CV002","invalidName")}function t(a,t){u({data:e,exceptionName:t,issue:e.parseResult.value,output:e.output,fail:function(){_extra.error(a,e.parseResult.value)}})}n(e,"query",a)},SLR:function(e){function a(){i(e,"query",!1),e.parseResult.is$Variable&&(e.parseResult=e.parseResult.variable),t(e.parseResult.value)||(e.parseResult.isVariable&&(e.parseResult=e.parseResult.variable),e.parseResult.isNumber?l(e.parseResult.value):e.parseResult.isQuery?_extra.slideManager.enactFunctionOnSlides(e.parseResult.value,function(e){t(e)}):t(e.parseResult.value)||(e.parseResult.value.toLowerCase&&"all"===e.parseResult.value.toLowerCase()&&(e.parseResult.value="1-"+_extra.slideManager.numSlides),r(e.parseResult.value)))}function t(e){var a=_extra.slideManager.getSlideIndexFromName(e);if(a&&a.slide>-1){var t=a.slide+1;if(!(t>_extra.slideManager.numSlides))return l(t),!0;_extra.error("CV072",t,_extra.slideManager.numSlides)}return!1}function r(a){var t=a.split("-");switch(t.length){case 2:""!==t[0]&&""!==t[1]?s(t[0],t[1]):_extra.error("CV070",a);break;case 1:u({data:e,exceptionName:"invalidSlide",issue:a,output:l,fail:function(){_extra.error("CV071",a)}});break;default:_extra.error("CV070",a)}}function s(e,a){if(e=o(e),a=o(a),null!==e&&null!==a){if(e>a){var t=e;e=a,a=t}for(var r=e;a>=r;)l(r),r+=1}}function o(a){if(_extra.w.isNaN(a)){var t=_extra.slideManager.getSlideIndexFromName(a);if(t)return t.slide+1;var r=null;return u({data:e,exceptionName:"invalidSlide",issue:a,output:function(e){r=e},fail:function(){_extra.error("CV071",a),r=null}}),r}return _extra.w.parseInt(a)}function l(a){a>_extra.slideManager.numSlides?u({data:e,exceptionName:"slideBeyondProject",issue:a,output:e.output,fail:function(){_extra.error("CV072",a,_extra.slideManager.numSlides)}}):e.output(a)}n(e,"slide",a)},STR:function(e){function a(){var a=t();e.validation&&(a=r(a)),a&&e.output(a)}function t(){return i(e,"string",!0),e.parseResult.isNumber?e.parseResult.value.toString():e.parseResult.value}function r(a){var t=s(a),r=e.validation[t];return void 0===r?u({data:e,exceptionName:"invalidString",issue:a,output:function(e){r=e},fail:function(){r=null,_extra.error("CV003",a)}}):null===e.validation[t]&&(r=t),r}function s(a){switch(e.validationCase){case"upper":return a.toUpperCase();case"none":return a;default:return a.toLowerCase()}}n(e,"string",a)},NR:function(e){function a(){i(e,"number",!0),e.parseResult.isNumber?e.output(e.parseResult.value):u({data:e,exceptionName:"NaN",issue:e.parseResult.value,output:e.output,fail:function(){_extra.error("CV005",e.parseResult.value)}})}n(e,"number",a)}}},MP:{SOR_STR:function(a){function t(){r();var t=o(a.STR,e.SP.CD.STR);void 0!==t&&n(t)}function r(){s(a,"STR","string","string"),s(a,"SOR","query","query")}function n(t){a.SOR.output=function(e){a.output(e,t)},e.SP.CD.SOR(a.SOR)}t()},INT_CRI:function(n){function i(){o(),e.MP.SOR_STR(c)}function o(){c.query=n.interactiveObject,c.string=n.criteria,c.output=n.output,l(),u()}function l(){s(n,"INT","interactiveObject","query"),n.INT.noQueries=!0,n.INT.requireInteractiveObject=!0,c.SOR=n.INT}function u(){s(n,"CRI","criteria","string"),n.CRI.validation={1:a,"true":a,correct:a,success:a,0:t,"false":t,fail:t,failure:t,lastattempt:t,last:t,last_attempt:t,focus:r,focuslost:r,focus_lost:r},n.CRI.exceptions||(n.CRI.exceptions={}),n.CRI.exceptions.invalidString||(n.CRI.exceptions.invalidString=function(e){return _extra.error("CV010",e),_extra.variableManager.parseSets.SKIP_ERROR}),c.STR=n.CRI}var c={};i()},STR1_STR2_INT_CRI:function(a){function t(){r(),i.string1=o(a.STR1,e.SP.CD.STR),i.string2=o(a.STR2,e.SP.CD.STR),void 0!==i.string1&&void 0!==i.string2&&n()}function r(){s(a,"STR1","string1","string"),s(a,"STR2","string2","string")}function n(){var t=a.output;l(a,e.MP.INT_CRI,function(e,a){t(i.string1,i.string2,e,a)})}var i={string1:void 0,string2:void 0,interactiveObject:void 0,criteria:void 0};t()},SOR_EVT_INT_CRI:function(a){function t(){r(),n(),s.criteria&&s.interactiveObject&&i()}function r(){for(var e,t=["SOR","EVT","INT","CRI"],r=0;r<t.length;r+=1)e=t[r],a.hasOwnProperty(e)||(a[e]={})}function n(){l(a,e.MP.INT_CRI,function(e,a){s.interactiveObject=e,s.criteria=a})}function i(){var t={query:a.slideObject,string:a.event,STR:a.EVT,SOR:a.SOR,output:function(e,t){a.output(e,t,s.interactiveObject,s.criteria)}};e.MP.SOR_STR(t)}var s={slideObject:null,event:null,interactiveObject:null,criteria:null};t()},VR_NR:function(a){function t(){n();var t=o(a.NR,e.SP.CD.NR);_extra.w.isNaN(t)||r(t)}function r(t){a.VR.output=function(e){a.output(e,t)},e.SP.CD.VR(a.VR)}function n(){s(a,"VR","variable","query"),s(a,"NR","number","number")}t()},VR_NR1_NR2:function(a){function t(){r();var t=o(a.NR2,e.SP.CD.NR);_extra.w.isNaN(t)||n(t)}function r(){s(a,"NR2","number2","number")}function n(t){a.NR=a.NR1,a.number=a.number1;var r=a.output;l(a,e.MP.VR_NR,function(e,a){r(e,a,t)}),delete a.NR,delete a.number}t()},VR_NR_STR:function(a){function t(){s(a,"STR","string","string");var t=o(a.STR,e.SP.CD.STR);t&&r(t)}function r(t){var r=a.output;l(a,e.MP.VR_NR,function(e,a){r(e,a,t)})}t()},SOR_NR:function(a){function t(){r(),n()?i():a.getOnly?l():o()}function r(){s(a,"SOR","slideObject","query"),a.SOR.substituteParseResult=c,s(a,"NR","number","number"),a.NR.substituteParseResult=d}function n(){return(d.isSlideObject||d.isVariable&&d.variable.isSlideObject)&&(c.isVariable||c.isQuery)?!0:!1}function i(){var t=null;a.NR.output=function(e){t=e},a.NR.noQueries=!0,e.SP.CD.SOR(a.NR),null!==t&&(a.SOR.output=function(e){a.get(e,t)},e.SP.CD.VR(a.SOR))}function o(){var t=null;a.NR.output=function(e){t=e},e.SP.CD.NR(a.NR),null!==t&&(a.SOR.output=function(e){a.set(e,t)},e.SP.CD.SOR(a.SOR))}function l(){var e=c;e.isVariable&&(e=e.variable),e=e.value,u({data:a,exceptionName:"illegalSet",issue:e,output:null,fail:function(){_extra.error("CV006",e,"<i>unknown</i>")}})}var c=_extra.variableManager.parse.string(a.slideObject),d=_extra.variableManager.parse.string(a.number);t()}}},e=_extra.variableManager.parseSets}),_extra.registerModule("processCommandVariableRegistration",["commandVariableManager"],function(){"use strict";_extra.variableManager.processCommandVariableRegistration=function(e){function a(){for(var a in e)e.hasOwnProperty(a)&&t(a,e[a])}function t(e,a){function t(){a.commandName&&(_extra.variableManager.commands[a.commandName]=r,_extra.X[a.commandName]=r),_extra.variableManager.registerCommandVariable(e,r,a.parameterHandler)}function r(){a.updateData?(_extra.w.Array.prototype.unshift.call(arguments,a.parseSetData),a.updateData.apply(this,arguments),a.parseSet(a.parseSetData)):_extra.error("You forgot to add a data.updateData method")}t()}a()}}),_extra.registerModule("cpExtraInfo",["infoVariableManager"],function(){"use strict";var e={suffix:"Version"},a={suffix:"Build"};_extra.infoManager.registerInfoVariable(e)&&_extra.variableManager.setVariableValue(e.name,_extra.X.version),_extra.infoManager.registerInfoVariable(a)&&_extra.variableManager.setVariableValue(a.name,_extra.X.build)}),_extra.registerModule("infoVariableManager",["variableManager"],function(){"use strict";var e="xinfo";return _extra.infoManager={infoVariables:{},registerInfoVariable:function(a){function t(e){return a.name=e,_extra.variableManager.hasVariable(a.name)?(_extra.infoManager.infoVariables[a.name]=a,!0):!1}return t(e+a.suffix)?!0:t("_"+a.name)}},function(){var e,a=function(e){var a=_extra.infoManager.infoVariables[e.variableName],t=e.newValue;a.setter(t)},t=function(e){var a=_extra.infoManager.infoVariables[e.variableName];return a.getter()};for(var r in _extra.infoManager.infoVariables)_extra.infoManager.infoVariables.hasOwnProperty(r)&&(e=_extra.infoManager.infoVariables[r],e.setter&&_extra.variableManager.listenForVariableChange(r,a),e.getter&&_extra.variableManager.listenForVariableRead(r,t))}}),_extra.registerModule("timeInfoVariables",["infoVariableManager","movieStatusManager","doubleDidgitPreferences"],function(){"use strict";function e(e){var a=_extra.w.Math.floor,t=a(e/_extra.movieStatus.FPS),r=a(t/60),n=a(r/60);return t-=60*r,r-=60*n,{seconds:t,minutes:r,hours:n}}function a(e,a){var t=i[e];t.exists&&(_extra.preferences.doubleDidgits[e]&&10>a&&(a="0"+a),_extra.variableManager.setVariableValue(t.name,_extra.w.String(a)))}function t(e){for(var a,t,r=!1,n=0;n<e.length;n+=1)t=e[n],a={suffix:t},a.exists=_extra.infoManager.registerInfoVariable(a),a.exists&&(r=!0),i[t]=a;return r}var r=["ProjectTotalHours","ProjectTotalMinutes","ProjectTotalSeconds"],n=["ProjectElapsedHours","ProjectElapsedMinutes","ProjectElapsedSeconds"],i={};_extra.preferences.calculateTotalProjectTime=function(){var t=e(_extra.movieStatus.totalFrames);a("ProjectTotalSeconds",t.seconds),a("ProjectTotalMinutes",t.minutes),a("ProjectTotalHours",t.hours)},_extra.preferences.calculateElapsedProjectTime=function(){var t=e(_extra.movieStatus.currentFrame);a("ProjectElapsedSeconds",t.seconds),a("ProjectElapsedMinutes",t.minutes),a("ProjectElapsedHours",t.hours)},t(r)&&_extra.preferences.calculateTotalProjectTime(),t(n)&&_extra.eventManager.eventDispatcher.addEventListener("newframe",function(){_extra.preferences.calculateElapsedProjectTime()})}),_extra.registerModule("xprefInitAction",["slideManager_global"],function(){"use strict";function e(){if(_extra.slideManager.enterSlideCallback.removeCallback("*",e),_extra.variableManager.hasVariable(a)){var t=_extra.variableManager.getVariableValue(a);t=_extra.variableManager.prepareParameters(t),t&&_extra.variableManager.commands.callActionOn(t[0],t[1])}}var a="xprefInitAction";_extra.slideManager.enterSlideCallback.addCallback("*",e)}),_extra.registerModule("BaseSlideObjectDataProxy",function(){"use strict";function e(e,a,t){this._name=e,this._data=a,this._type=t}e.prototype={get name(){return this._name},get data(){return this._data},get type(){return this._type},get states(){return this._states||(this._states=[],_extra.error("BaseSlideObjectData.states has yet to be implemented")),this._states}},_extra.registerClass("BaseSlideObjectDataProxy",e)}),_extra.registerModule("TextEntryBoxDataProxy",["BaseSlideObjectDataProxy"],function(){"use strict";function e(e,a,t){_extra.classes.BaseSlideObjectDataProxy.call(this,e,a,t)}_extra.registerClass("TextEntryBoxDataProxy",e,"BaseSlideObjectDataProxy",_extra.STORYLINE),_extra.w.Object.defineProperty(e.prototype,"variable",{get:function(){return _extra.error("TextEntryBoxDataProxy.variable has yet to be defined!"),null}})},_extra.STORYLINE),_extra.registerModule("StateDataProxy",function(){"use strict";function e(){}_extra.registerClass("StateDataProxy",e)},_extra.CAPTIVATE),_extra.registerModule("WebObjectStateDataProxy",["StateDataProxy"],function(){"use strict";function e(e){_extra.classes.StateDataProxy.call(this,e,function(e){e.enterMethodName="loadWebObject"})}_extra.registerClass("WebObjectStateDataProxy",e,"StateDataProxy",_extra.CAPTIVATE)},_extra.CAPTIVATE);